{"ast":null,"code":"'use strict';\n\nvar filter = require('through2-filter').obj;\n\nvar stringify = require(\"json-stable-stringify-without-jsonify\");\n\nvar ES6Set;\n\nif (typeof global.Set === 'function') {\n  ES6Set = global.Set;\n} else {\n  ES6Set = function () {\n    this.keys = [];\n    this.has = function (val) {\n      return this.keys.indexOf(val) !== -1;\n    }, this.add = function (val) {\n      this.keys.push(val);\n    };\n  };\n}\n\nfunction prop(propName) {\n  return function (data) {\n    return data[propName];\n  };\n}\n\nmodule.exports = unique;\n\nfunction unique(propName, keyStore) {\n  keyStore = keyStore || new ES6Set();\n  var keyfn = stringify;\n\n  if (typeof propName === 'string') {\n    keyfn = prop(propName);\n  } else if (typeof propName === 'function') {\n    keyfn = propName;\n  }\n\n  return filter(function (data) {\n    var key = keyfn(data);\n\n    if (keyStore.has(key)) {\n      return false;\n    }\n\n    keyStore.add(key);\n    return true;\n  });\n}","map":{"version":3,"sources":["C:/frontend/node_modules/unique-stream/index.js"],"names":["filter","require","obj","stringify","ES6Set","global","Set","keys","has","val","indexOf","add","push","prop","propName","data","module","exports","unique","keyStore","keyfn","key"],"mappings":"AAAA;;AAEA,IAAIA,MAAM,GAAGC,OAAO,CAAC,iBAAD,CAAP,CAA2BC,GAAxC;;AACA,IAAIC,SAAS,GAAGF,OAAO,CAAC,uCAAD,CAAvB;;AAEA,IAAIG,MAAJ;;AACA,IAAI,OAAOC,MAAM,CAACC,GAAd,KAAsB,UAA1B,EAAsC;AACpCF,EAAAA,MAAM,GAAGC,MAAM,CAACC,GAAhB;AACD,CAFD,MAEO;AACLF,EAAAA,MAAM,GAAG,YAAW;AAClB,SAAKG,IAAL,GAAY,EAAZ;AACA,SAAKC,GAAL,GAAW,UAASC,GAAT,EAAc;AACvB,aAAO,KAAKF,IAAL,CAAUG,OAAV,CAAkBD,GAAlB,MAA2B,CAAC,CAAnC;AACD,KAFD,EAGA,KAAKE,GAAL,GAAW,UAASF,GAAT,EAAc;AACvB,WAAKF,IAAL,CAAUK,IAAV,CAAeH,GAAf;AACD,KALD;AAMD,GARD;AASD;;AAED,SAASI,IAAT,CAAcC,QAAd,EAAwB;AACtB,SAAO,UAAUC,IAAV,EAAgB;AACrB,WAAOA,IAAI,CAACD,QAAD,CAAX;AACD,GAFD;AAGD;;AAEDE,MAAM,CAACC,OAAP,GAAiBC,MAAjB;;AACA,SAASA,MAAT,CAAgBJ,QAAhB,EAA0BK,QAA1B,EAAoC;AAClCA,EAAAA,QAAQ,GAAGA,QAAQ,IAAI,IAAIf,MAAJ,EAAvB;AAEA,MAAIgB,KAAK,GAAGjB,SAAZ;;AACA,MAAI,OAAOW,QAAP,KAAoB,QAAxB,EAAkC;AAChCM,IAAAA,KAAK,GAAGP,IAAI,CAACC,QAAD,CAAZ;AACD,GAFD,MAEO,IAAI,OAAOA,QAAP,KAAoB,UAAxB,EAAoC;AACzCM,IAAAA,KAAK,GAAGN,QAAR;AACD;;AAED,SAAOd,MAAM,CAAC,UAAUe,IAAV,EAAgB;AAC5B,QAAIM,GAAG,GAAGD,KAAK,CAACL,IAAD,CAAf;;AAEA,QAAII,QAAQ,CAACX,GAAT,CAAaa,GAAb,CAAJ,EAAuB;AACrB,aAAO,KAAP;AACD;;AAEDF,IAAAA,QAAQ,CAACR,GAAT,CAAaU,GAAb;AACA,WAAO,IAAP;AACD,GATY,CAAb;AAUD","sourcesContent":["'use strict';\r\n\r\nvar filter = require('through2-filter').obj;\r\nvar stringify = require(\"json-stable-stringify-without-jsonify\");\r\n\r\nvar ES6Set;\r\nif (typeof global.Set === 'function') {\r\n  ES6Set = global.Set;\r\n} else {\r\n  ES6Set = function() {\r\n    this.keys = [];\r\n    this.has = function(val) {\r\n      return this.keys.indexOf(val) !== -1;\r\n    },\r\n    this.add = function(val) {\r\n      this.keys.push(val);\r\n    }\r\n  }\r\n}\r\n\r\nfunction prop(propName) {\r\n  return function (data) {\r\n    return data[propName];\r\n  };\r\n}\r\n\r\nmodule.exports = unique;\r\nfunction unique(propName, keyStore) {\r\n  keyStore = keyStore || new ES6Set();\r\n\r\n  var keyfn = stringify;\r\n  if (typeof propName === 'string') {\r\n    keyfn = prop(propName);\r\n  } else if (typeof propName === 'function') {\r\n    keyfn = propName;\r\n  }\r\n\r\n  return filter(function (data) {\r\n    var key = keyfn(data);\r\n\r\n    if (keyStore.has(key)) {\r\n      return false;\r\n    }\r\n\r\n    keyStore.add(key);\r\n    return true;\r\n  });\r\n}\r\n"]},"metadata":{},"sourceType":"script"}