{"ast":null,"code":"'use strict';\n\nvar fs = require('graceful-fs');\n\nvar removeBomStream = require('remove-bom-stream');\n\nvar lazystream = require('lazystream');\n\nvar createResolver = require('resolve-options');\n\nfunction streamFile(file, optResolver, onRead) {\n  if (typeof optResolver === 'function') {\n    onRead = optResolver;\n    optResolver = createResolver();\n  }\n\n  var filePath = file.path;\n  var removeBOM = optResolver.resolve('removeBOM', file);\n  file.contents = new lazystream.Readable(function () {\n    var contents = fs.createReadStream(filePath);\n\n    if (removeBOM) {\n      return contents.pipe(removeBomStream());\n    }\n\n    return contents;\n  });\n  onRead();\n}\n\nmodule.exports = streamFile;","map":{"version":3,"sources":["C:/frontend/node_modules/vinyl-fs/lib/src/read-contents/read-stream.js"],"names":["fs","require","removeBomStream","lazystream","createResolver","streamFile","file","optResolver","onRead","filePath","path","removeBOM","resolve","contents","Readable","createReadStream","pipe","module","exports"],"mappings":"AAAA;;AAEA,IAAIA,EAAE,GAAGC,OAAO,CAAC,aAAD,CAAhB;;AACA,IAAIC,eAAe,GAAGD,OAAO,CAAC,mBAAD,CAA7B;;AACA,IAAIE,UAAU,GAAGF,OAAO,CAAC,YAAD,CAAxB;;AACA,IAAIG,cAAc,GAAGH,OAAO,CAAC,iBAAD,CAA5B;;AAEA,SAASI,UAAT,CAAoBC,IAApB,EAA0BC,WAA1B,EAAuCC,MAAvC,EAA+C;AAC7C,MAAI,OAAOD,WAAP,KAAuB,UAA3B,EAAuC;AACrCC,IAAAA,MAAM,GAAGD,WAAT;AACAA,IAAAA,WAAW,GAAGH,cAAc,EAA5B;AACD;;AAED,MAAIK,QAAQ,GAAGH,IAAI,CAACI,IAApB;AAEA,MAAIC,SAAS,GAAGJ,WAAW,CAACK,OAAZ,CAAoB,WAApB,EAAiCN,IAAjC,CAAhB;AAEAA,EAAAA,IAAI,CAACO,QAAL,GAAgB,IAAIV,UAAU,CAACW,QAAf,CAAwB,YAAW;AACjD,QAAID,QAAQ,GAAGb,EAAE,CAACe,gBAAH,CAAoBN,QAApB,CAAf;;AAEA,QAAIE,SAAJ,EAAe;AACb,aAAOE,QAAQ,CAACG,IAAT,CAAcd,eAAe,EAA7B,CAAP;AACD;;AAED,WAAOW,QAAP;AACD,GARe,CAAhB;AAUAL,EAAAA,MAAM;AACP;;AAEDS,MAAM,CAACC,OAAP,GAAiBb,UAAjB","sourcesContent":["'use strict';\r\n\r\nvar fs = require('graceful-fs');\r\nvar removeBomStream = require('remove-bom-stream');\r\nvar lazystream = require('lazystream');\r\nvar createResolver = require('resolve-options');\r\n\r\nfunction streamFile(file, optResolver, onRead) {\r\n  if (typeof optResolver === 'function') {\r\n    onRead = optResolver;\r\n    optResolver = createResolver();\r\n  }\r\n\r\n  var filePath = file.path;\r\n\r\n  var removeBOM = optResolver.resolve('removeBOM', file);\r\n\r\n  file.contents = new lazystream.Readable(function() {\r\n    var contents = fs.createReadStream(filePath);\r\n\r\n    if (removeBOM) {\r\n      return contents.pipe(removeBomStream());\r\n    }\r\n\r\n    return contents;\r\n  });\r\n\r\n  onRead();\r\n}\r\n\r\nmodule.exports = streamFile;\r\n"]},"metadata":{},"sourceType":"script"}