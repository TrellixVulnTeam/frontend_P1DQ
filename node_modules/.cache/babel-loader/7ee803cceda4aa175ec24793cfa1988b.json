{"ast":null,"code":"'use strict';\n\nvar fs = require('graceful-fs');\n\nvar mkdirp = require('fs-mkdirp-stream/mkdirp');\n\nvar fo = require('../../file-operations');\n\nfunction writeDir(file, optResolver, onWritten) {\n  mkdirp(file.path, file.stat.mode, onMkdirp);\n\n  function onMkdirp(mkdirpErr) {\n    if (mkdirpErr) {\n      return onWritten(mkdirpErr);\n    }\n\n    fs.open(file.path, 'r', onOpen);\n  }\n\n  function onOpen(openErr, fd) {\n    // If we don't have access, just move along\n    if (isInaccessible(openErr)) {\n      return fo.closeFd(null, fd, onWritten);\n    }\n\n    if (openErr) {\n      return fo.closeFd(openErr, fd, onWritten);\n    }\n\n    fo.updateMetadata(fd, file, onUpdate);\n\n    function onUpdate(updateErr) {\n      fo.closeFd(updateErr, fd, onWritten);\n    }\n  }\n}\n\nfunction isInaccessible(err) {\n  if (!err) {\n    return false;\n  }\n\n  if (err.code === 'EACCES') {\n    return true;\n  }\n\n  return false;\n}\n\nmodule.exports = writeDir;","map":{"version":3,"sources":["C:/frontend/node_modules/vinyl-fs/lib/dest/write-contents/write-dir.js"],"names":["fs","require","mkdirp","fo","writeDir","file","optResolver","onWritten","path","stat","mode","onMkdirp","mkdirpErr","open","onOpen","openErr","fd","isInaccessible","closeFd","updateMetadata","onUpdate","updateErr","err","code","module","exports"],"mappings":"AAAA;;AAEA,IAAIA,EAAE,GAAGC,OAAO,CAAC,aAAD,CAAhB;;AAEA,IAAIC,MAAM,GAAGD,OAAO,CAAC,yBAAD,CAApB;;AAEA,IAAIE,EAAE,GAAGF,OAAO,CAAC,uBAAD,CAAhB;;AAEA,SAASG,QAAT,CAAkBC,IAAlB,EAAwBC,WAAxB,EAAqCC,SAArC,EAAgD;AAC9CL,EAAAA,MAAM,CAACG,IAAI,CAACG,IAAN,EAAYH,IAAI,CAACI,IAAL,CAAUC,IAAtB,EAA4BC,QAA5B,CAAN;;AAEA,WAASA,QAAT,CAAkBC,SAAlB,EAA6B;AAC3B,QAAIA,SAAJ,EAAe;AACb,aAAOL,SAAS,CAACK,SAAD,CAAhB;AACD;;AAEDZ,IAAAA,EAAE,CAACa,IAAH,CAAQR,IAAI,CAACG,IAAb,EAAmB,GAAnB,EAAwBM,MAAxB;AACD;;AAED,WAASA,MAAT,CAAgBC,OAAhB,EAAyBC,EAAzB,EAA6B;AAC3B;AACA,QAAIC,cAAc,CAACF,OAAD,CAAlB,EAA6B;AAC3B,aAAOZ,EAAE,CAACe,OAAH,CAAW,IAAX,EAAiBF,EAAjB,EAAqBT,SAArB,CAAP;AACD;;AAED,QAAIQ,OAAJ,EAAa;AACX,aAAOZ,EAAE,CAACe,OAAH,CAAWH,OAAX,EAAoBC,EAApB,EAAwBT,SAAxB,CAAP;AACD;;AAEDJ,IAAAA,EAAE,CAACgB,cAAH,CAAkBH,EAAlB,EAAsBX,IAAtB,EAA4Be,QAA5B;;AAEA,aAASA,QAAT,CAAkBC,SAAlB,EAA6B;AAC3BlB,MAAAA,EAAE,CAACe,OAAH,CAAWG,SAAX,EAAsBL,EAAtB,EAA0BT,SAA1B;AACD;AACF;AAEF;;AAED,SAASU,cAAT,CAAwBK,GAAxB,EAA6B;AAC3B,MAAI,CAACA,GAAL,EAAU;AACR,WAAO,KAAP;AACD;;AAED,MAAIA,GAAG,CAACC,IAAJ,KAAa,QAAjB,EAA2B;AACzB,WAAO,IAAP;AACD;;AAED,SAAO,KAAP;AACD;;AAEDC,MAAM,CAACC,OAAP,GAAiBrB,QAAjB","sourcesContent":["'use strict';\r\n\r\nvar fs = require('graceful-fs');\r\n\r\nvar mkdirp = require('fs-mkdirp-stream/mkdirp');\r\n\r\nvar fo = require('../../file-operations');\r\n\r\nfunction writeDir(file, optResolver, onWritten) {\r\n  mkdirp(file.path, file.stat.mode, onMkdirp);\r\n\r\n  function onMkdirp(mkdirpErr) {\r\n    if (mkdirpErr) {\r\n      return onWritten(mkdirpErr);\r\n    }\r\n\r\n    fs.open(file.path, 'r', onOpen);\r\n  }\r\n\r\n  function onOpen(openErr, fd) {\r\n    // If we don't have access, just move along\r\n    if (isInaccessible(openErr)) {\r\n      return fo.closeFd(null, fd, onWritten);\r\n    }\r\n\r\n    if (openErr) {\r\n      return fo.closeFd(openErr, fd, onWritten);\r\n    }\r\n\r\n    fo.updateMetadata(fd, file, onUpdate);\r\n\r\n    function onUpdate(updateErr) {\r\n      fo.closeFd(updateErr, fd, onWritten);\r\n    }\r\n  }\r\n\r\n}\r\n\r\nfunction isInaccessible(err) {\r\n  if (!err) {\r\n    return false;\r\n  }\r\n\r\n  if (err.code === 'EACCES') {\r\n    return true;\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\nmodule.exports = writeDir;\r\n"]},"metadata":{},"sourceType":"script"}