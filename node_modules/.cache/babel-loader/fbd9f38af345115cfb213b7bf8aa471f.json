{"ast":null,"code":"'use strict';\n\nvar map = require('collection-map');\n\nvar metadata = require('./metadata');\n\nfunction buildTree(tasks) {\n  return map(tasks, function (task) {\n    var meta = metadata.get(task);\n\n    if (meta) {\n      return meta.tree;\n    }\n\n    var name = task.displayName || task.name || '<anonymous>';\n    meta = {\n      name: name,\n      tree: {\n        label: name,\n        type: 'function',\n        nodes: []\n      }\n    };\n    metadata.set(task, meta);\n    return meta.tree;\n  });\n}\n\nmodule.exports = buildTree;","map":{"version":3,"sources":["C:/frontend/node_modules/undertaker/lib/helpers/buildTree.js"],"names":["map","require","metadata","buildTree","tasks","task","meta","get","tree","name","displayName","label","type","nodes","set","module","exports"],"mappings":"AAAA;;AAEA,IAAIA,GAAG,GAAGC,OAAO,CAAC,gBAAD,CAAjB;;AAEA,IAAIC,QAAQ,GAAGD,OAAO,CAAC,YAAD,CAAtB;;AAEA,SAASE,SAAT,CAAmBC,KAAnB,EAA0B;AACxB,SAAOJ,GAAG,CAACI,KAAD,EAAQ,UAASC,IAAT,EAAe;AAC/B,QAAIC,IAAI,GAAGJ,QAAQ,CAACK,GAAT,CAAaF,IAAb,CAAX;;AACA,QAAIC,IAAJ,EAAU;AACR,aAAOA,IAAI,CAACE,IAAZ;AACD;;AAED,QAAIC,IAAI,GAAGJ,IAAI,CAACK,WAAL,IAAoBL,IAAI,CAACI,IAAzB,IAAiC,aAA5C;AACAH,IAAAA,IAAI,GAAG;AACLG,MAAAA,IAAI,EAAEA,IADD;AAELD,MAAAA,IAAI,EAAE;AACJG,QAAAA,KAAK,EAAEF,IADH;AAEJG,QAAAA,IAAI,EAAE,UAFF;AAGJC,QAAAA,KAAK,EAAE;AAHH;AAFD,KAAP;AASAX,IAAAA,QAAQ,CAACY,GAAT,CAAaT,IAAb,EAAmBC,IAAnB;AACA,WAAOA,IAAI,CAACE,IAAZ;AACD,GAlBS,CAAV;AAmBD;;AAEDO,MAAM,CAACC,OAAP,GAAiBb,SAAjB","sourcesContent":["'use strict';\r\n\r\nvar map = require('collection-map');\r\n\r\nvar metadata = require('./metadata');\r\n\r\nfunction buildTree(tasks) {\r\n  return map(tasks, function(task) {\r\n    var meta = metadata.get(task);\r\n    if (meta) {\r\n      return meta.tree;\r\n    }\r\n\r\n    var name = task.displayName || task.name || '<anonymous>';\r\n    meta = {\r\n      name: name,\r\n      tree: {\r\n        label: name,\r\n        type: 'function',\r\n        nodes: [],\r\n      },\r\n    };\r\n\r\n    metadata.set(task, meta);\r\n    return meta.tree;\r\n  });\r\n}\r\n\r\nmodule.exports = buildTree;\r\n"]},"metadata":{},"sourceType":"script"}