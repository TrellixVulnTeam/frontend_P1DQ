"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.lookupResolverName = void 0;
const graphql_transformer_common_1 = require("graphql-transformer-common");
function lookupResolverName(config, ctx, op) {
    const { object, modelDirective } = config;
    const argName = op === 'get' || op === 'list' ? 'queries' : 'mutations';
    let resolverName;
    for (const argument of modelDirective.arguments) {
        const arg = argument;
        if (arg.name.value !== argName || !Array.isArray(arg.value.fields)) {
            continue;
        }
        for (const field of arg.value.fields) {
            if (field.name.value === op) {
                resolverName = field.value.value;
                if (!resolverName) {
                    return null;
                }
            }
        }
    }
    if (!resolverName) {
        if (op === 'list') {
            resolverName = `${op}${graphql_transformer_common_1.plurality(object.name.value, true)}`;
        }
        else {
            resolverName = `${op}${object.name.value}`;
        }
    }
    return resolverName;
}
exports.lookupResolverName = lookupResolverName;
//# sourceMappingURL=utils.js.map